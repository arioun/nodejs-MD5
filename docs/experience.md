# MD5代码阅读

1. MD5代码整体为一个函数立即执行表达式
2. MD5消息摘要算法，一种被广泛使用的密码散列函数，可以产生出一个128位（16字节）的散列值，用于确保信息传输完整一致。
3. 从百科找到的一些关于MD5原理:  
  ###### 1.填充：   
   * 在信息的后面填充一个1和无数个0，直到满足上面的条件时才停止用0对信息的填充。  
   * 在这个结果后面附加一个以64位二进制表示的填充前信息长度（单位为Bit），如果二进制表示的填充前信息长度超过64位，则取低64位。  
经过这两步的处理，信息的位长=N*512+448+64=(N+1）*512，即长度恰好是512的整数倍。这样做的原因是为满足后面处理中对信息长度的要求。  
***
  ###### 2.初始化变量：
  初始的128位值为初始链接变量，这些参数用于第一轮的运算，以大端字节序来表示,  
      （每一个变量给出的数值是高字节存于内存低地址，低字节存于内存高地址，即大端字节序。  
      在程序中变量A、B、C、D的值分别为1732584193，-271733879，-1732584194，271733878)  
***
######  3.处理分组数据,每一分组的算法流程:  
   * 第一分组需要将上面四个链接变量复制到另外四个变量中：a到aa，b到bb，c到cc，d到dd。从第二分组开始的变量为上一分组的运算结果，即aa = a， bb = b， cc = c， dd = d。  
   * 主循环有四轮，每轮循环都很相似。第一轮进行16次操作。每次操作对a、b、c、d中的其中三个作一次非线性函数运算，然后将所得结果加上第四个变量，文本的一个子分组和一个常数。再将所得结果向左环移一个不定的数，并加上a、b、c或d中之一。最后用该结果取代a、b、c或d中之一。  
   * 以下是每次操作中用到的四个非线性函数（每轮一个）。  
      F( X ,Y ,Z ) = ( X & Y ) | ( (~X) & Z )  
      G( X ,Y ,Z ) = ( X & Z ) | ( Y & (~Z) )  
      H( X ,Y ,Z ) =X ^ Y ^ Z  
      I( X ,Y ,Z ) =Y ^ ( X | (~Z) )  
     （&是与（And），|是或（Or），~是非（Not），^是异或（Xor）)  
      这四个函数的说明：如果X、Y和Z的对应位是独立和均匀的，那么结果的每一位也应是独立和均匀的。  
      F是一个逐位运算的函数。即，如果X，那么Y，否则Z。函数H是逐位奇偶操作符.  
   * 现定义：
      FF(a ,b ,c ,d ,x ,s ,t ) 操作为 a = b + ( (a + F(b,c,d) + x + t) << s)  
      GG(a ,b ,c ,d ,X ,s ,t ) 操作为 a = b + ( (a + G(b,c,d) + X + t) << s)  
      HH(a ,b ,c ,d ,X ,s ,t) 操作为 a = b + ( (a + H(b,c,d) + X + t) << s)  
      II(a ,b ,c ,d ,X ,s ,t) 操作为 a = b + ( (a + I(b,c,d) + X + t) << s)  
      注意：“<<”表示循环左移位，不是左移位。  
      所有这些完成之后，将a、b、c、d分别在原来基础上再加上aa、bb、cc、dd  
 ***
4.位运算符  
+ '~'  非 按位取反  
+ '&'  与 同1为1，其他为0  
+ '|'  位或 有1为1  
+ '^'  异或 两个操作数的位中，相同则结果为0，不同则结果为1  
+ '<<num'   左移num位  
+ '>>>num'  右移num位  



